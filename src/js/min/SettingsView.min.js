var SettingsView,extend=function(t,e){function s(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;SettingsView=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return extend(s,e),s.prototype.className="SettingsView",s.prototype.events={"click .save":"save","click .back":"goBack"},s.prototype.goBack=function(){return window.history.back()},s.prototype.i18n=function(){return this.text={save:t("Tangerine.actions.button.save"),back:t("Tangerine.navigation.button.back"),saved:t("Tangerine.message.saved"),saveError:t("Tangerine.message.save_error"),settings:t("SettingsView.label.settings"),warning:t("SettingsView.message.warning"),contextHelp:t("SettingsView.help.context"),languageHelp:t("SettingsView.help.language"),groupHandleHelp:t("SettingsView.help.group_handle"),groupNameHelp:t("SettingsView.help.group_name"),groupHostHelp:t("SettingsView.help.group_host"),uploadPasswordHelp:t("SettingsView.help.upload_password"),logEventsHelp:t("SettingsView.help.log_events"),context:t("SettingsView.label.context"),language:t("SettingsView.label.language"),groupHandle:t("SettingsView.label.group_handle"),groupName:t("SettingsView.label.group_name"),groupHost:t("SettingsView.label.group_host"),uploadPassword:t("SettingsView.label.upload_password"),logEvents:t("SettingsView.label.log_events")}},s.prototype.initialize=function(){return this.i18n(),this.settings=Tangerine.settings},s.prototype.save=function(){return this.settings.save({groupHandle:this.$el.find("#group_handle").val(),context:this.$el.find("#context").val(),language:this.$el.find("#language").val(),groupName:this.$el.find("#group_name").val(),groupHost:this.$el.find("#group_host").val(),upPass:this.$el.find("#up_pass").val(),log:this.$el.find("#log").val().split(/[\s,]+/)},{success:function(t){return function(){return Utils.midAlert(t.text.saved)}}(this),error:function(){return Utils.midAlert(this.text.saveError)}})},s.prototype.render=function(){var t,e,s,i,a,n,l;return t=this.settings.getEscapedString("context"),a=this.settings.getEscapedString("language"),i=this.settings.getEscapedString("groupName"),e=this.settings.getEscapedString("groupHandle"),s=this.settings.getEscapedString("groupHost"),l=this.settings.getEscapedString("upPass"),n=_.escape(this.settings.getArray("log").join(", ")),this.$el.html("<button class='back navigation'>"+this.text.back+"</button> <h1>"+this.text.settings+"</h1> <p><img src='images/icon_warn.png' title='Warning'>"+this.text.warning+"</p> <div class='menu_box'> <div class='label_value'> <label for='context' title='"+this.text.contextHelp+"'>"+this.text.context+"</label><br> <input id='context' type='text' value='"+t+"'> </div> <div class='label_value'> <label for='language' title='"+this.text.languageHelp+"'>"+this.text.language+"</label><br> <input id='language' type='text' value='"+a+"'> </div> <div class='label_value'> <label for='group_handle' title='"+this.text.groupHandleHelp+"'>"+this.text.groupHandle+"</label><br> <input id='group_handle' type='text' value='"+e+"'> </div> <div class='label_value'> <label for='group_name' title='"+this.text.groupNameHelp+"'>"+this.text.groupName+"</label><br> <input id='group_name' type='text' value='"+i+"'> </div> <div class='label_value'> <label for='group_host' title='"+this.text.groupHostHelp+"'>"+this.text.groupHost+"</label><br> <input id='group_host' type='text' value='"+s+"'> </div> <div class='label_value'> <label for='up_pass' title='"+this.text.uploadPasswordHelp+"'>"+this.text.uploadPassword+"</label><br> <input id='up_pass' type='text' value='"+l+"'> </div> <div class='label_value'> <label for='log' title='"+this.text.logEventsHelp+"'>"+this.text.logEvents+"</label><br> <input id='log' value='"+n+"'> </div> </div><br> <button class='command save'>"+this.text.save+"</button>"),this.trigger("rendered")},s}(Backbone.View);