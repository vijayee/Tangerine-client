var KlassResult,extend=function(t,e){function r(){this.constructor=t}for(var s in e)hasProp.call(e,s)&&(t[s]=e[s]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;KlassResult=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.url="result",e.prototype.add=function(t,e){return this.save({subtestData:t},{success:function(){return function(){return e()}}(this)})},e.prototype.getItemized=function(){var t,e,r,s;if("grid"===this.attributes.prototype)t=this.attributes.subtestData.items;else if("survey"===this.attributes.prototype){t=[],r=this.attributes.subtestData;for(e in r)s=r[e],t.push({itemLabel:e,itemResult:s})}return t},e.prototype.get=function(t){if("correct"===t)return this.gridCount(["correct",1]);if("incorrect"===t)return this.gridCount(["incorrect",0]);if("missing"===t)return this.gridCount(["missing",9]);if("total"===t){if("grid"===this.attributes.prototype)return this.attributes.subtestData.items.length;if("survey"===this.attributes.prototype)return _.keys(this.attributes.subtestData).length}return"attempted"===t?this.getAttempted():"time_remain"===t?this.getTimeRemain():e.__super__.get.call(this,t)},e.prototype.gridCount=function(t){var e,r,s,i,n,o,u,a,p,h,c,f;if(e=0,"grid"===this.attributes.prototype)if(_.isArray(t))for(a=this.get("subtestData").items,r=0,o=a.length;o>r;r++)s=a[r],~t.indexOf(s.itemResult)&&e++;else for(p=this.get("subtestData").items,i=0,u=p.length;u>i;i++)s=p[i],s.itemResult===t&&e++;else if("survey"===this.attributes.prototype)if(_.isArray(t)){h=this.attributes.subtestData;for(n in h)f=h[n],(~t.indexOf(f)||~t.indexOf(parseInt(f)))&&e++}else{c=this.attributes.subtestData;for(n in c)f=c[n],(t===f||t===parseInt(f))&&e++}return e},e.prototype.getAttempted=function(){return parseInt(this.get("subtestData").attempted)},e.prototype.getTimeRemain=function(){return parseInt(this.get("subtestData").time_remain)},e.prototype.getCorrectPerSeconds=function(t){return Math.round(this.get("correct")/(t-this.getTimeRemain())*t)},e}(Backbone.Model);