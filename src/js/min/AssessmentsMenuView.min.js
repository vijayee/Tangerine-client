var AssessmentsMenuView,bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function s(){this.constructor=t}for(var n in e)hasProp.call(e,n)&&(t[n]=e[n]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;AssessmentsMenuView=function(e){function s(){return this.render=bind(this.render,this),this.syncTablets=bind(this.syncTablets,this),s.__super__.constructor.apply(this,arguments)}return extend(s,e),s.prototype.className="AssessmentsMenuView",s.prototype.events={"click .import":"import","click .universal_upload":"universalUpload","click .sync_tablets":"syncTablets","click .results":"results"},s.prototype.syncTablets=function(){return this.tabletManager.sync()},s.prototype.results=function(){return Tangerine.router.navigate("dashboard",!0)},s.prototype.universalUpload=function(){return Utils.universalUpload()},s.prototype.apk=function(){return TangerineTree.make({success:function(t){var e;return e=document.createElement("a"),e.href=Tangerine.settings.config.get("tree"),Utils.sticky("<h1>APK link</h1><p>"+e.host+"/apk/"+t.token+"</p>")},error:function(t,e){return Utils.sticky(e.error)}})},s.prototype.gotoGroups=function(){return Tangerine.router.navigate("groups",!0)},s.prototype["import"]=function(){return Tangerine.router.navigate("import",!0)},s.prototype.i18n=function(){return this.text={"new":t("AssessmentMenuView.button.new"),apk:t("AssessmentMenuView.button.apk"),groups:t("AssessmentMenuView.button.groups"),universal_upload:t("AssessmentMenuView.button.universal_upload"),sync_tablets:t("AssessmentMenuView.button.sync_tablets"),results:t("AssessmentMenuView.button.results"),save:t("AssessmentMenuView.button.save"),cancel:t("AssessmentMenuView.button.cancel"),assessment:t("AssessmentMenuView.label.assessment"),assessments:t("AssessmentMenuView.label.assessments"),curriculum:t("AssessmentMenuView.label.curriculum")}},s.prototype.initialize=function(t){var e,s;this.i18n(),this.tabletManager=new TabletManagerView({docTypes:["result"],callbacks:{completePull:function(t){return function(){return t.tabletManager.pushDocs()}}(this)}});for(e in t)s=t[e],this[e]=s;return this.assessments.each(function(t){return function(e){return e.on("new",t.addAssessment)}}(this)),this.assessmentsView=new AssessmentsView({assessments:this.assessments,parent:this})},s.prototype.render=function(){var t,e,s,n,r,i,o,a,u;return console.log("assessments menuview render"),r=Tangerine.user.isAdmin(),i="<button class='new command'>"+this.text["new"]+"</button>",t="<button class='apk navigation'>"+this.text.apk+"</button>",s="<button class='navigation groups'>"+this.text.groups+"</button>",u="<button class='command universal_upload'>"+this.text.universal_upload+"</button>",a="<button class='command sync_tablets'>"+this.text.sync_tablets+"</button>",o="<button class='navigation results'>"+this.text.results+"</button>",e="<h2 class='settings grey' data-attribtue='groupHandle'>"+(Tangerine.settings.getEscapedString("groupHandle")||Tangerine.settings.get("groupName"))+"</h2>",n="<section> <h1>"+this.text.assessments+"</h1>",n+="<div id='assessments_container'></div> </section> <br> "+a+" "+u,this.$el.html(n),this.assessmentsView.setElement(this.$el.find("#assessments_container")),this.assessmentsView.render()},s.prototype.closeViews=function(){return this.assessmentsView.close()},s.prototype.onClose=function(){return this.closeViews()},s}(Backbone.View);