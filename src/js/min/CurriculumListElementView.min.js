var CurriculumListElementView,bind=function(e,t){return function(){return e.apply(t,arguments)}},extend=function(e,t){function i(){this.constructor=e}for(var n in t)hasProp.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;CurriculumListElementView=function(e){function t(){return this["delete"]=bind(this["delete"],this),t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.className="CurriculumListElementView",t.prototype.tagName="li",t.prototype.events={"click .toggle_menu":"toggleMenu","click .duplicate":"duplicate","click .delete":"deleteToggle","click .delete_cancel":"deleteToggle","click .delete_confirm":"delete"},t.prototype.initialize=function(e){return this.curriculum=e.curriculum,this.subtests=e.subtests},t.prototype.duplicate=function(){var e;return e="Copy of "+this.curriculum.get("name"),this.curriculum.duplicate({name:e},null,null,function(e){return function(t){return e.curriculum.trigger("new",t)}}(this))},t.prototype.toggleMenu=function(){return this.$el.find(".sp_down, .sp_right").toggleClass("sp_down").toggleClass("sp_right"),this.$el.find(".menu").fadeToggle(150)},t.prototype.deleteToggle=function(){return this.$el.find(".delete_confirm").fadeToggle(250),!1},t.prototype["delete"]=function(){return this.curriculum.destroy()},t.prototype.render=function(){var e,t,i,n,r,l,u,c;return c="<div class='toggle_menu sp_right'><div> </div></div>",r="<a href='#curriculum/"+this.curriculum.id+"'><img class='link_icon edit' title='Edit' src='images/icon_edit.png'></a>",n="<img class='link_icon duplicate' title='Duplicate' src='images/icon_duplicate.png'>",e="<img class='delete link_icon' title='Delete' src='images/icon_delete.png'>",t="<span class='delete_confirm'><div class='menu_box'>Confirm <button class='delete_yes command_red'>Delete</button> <button class='delete_cancel command'>Cancel</button></div></span>",i="<span class='download_key small_grey'>Download key <b>"+this.curriculum.id.substr(-5,5)+"</b></span>",u="<span class='toggle_menu'>"+this.curriculum.escape("name")+"</span>",Tangerine.user.isAdmin()&&(l=r+" "+n+" "+e+" "+i+" "+t),Tangerine.user.isAdmin()||(l=r+" "+i),this.$el.html("<div> "+c+" "+u+" </div> <div> <div class='confirmation menu'> "+l+" </div> </div>"),this.trigger("rendered")},t}(Backbone.View);