var KlassView,extend=function(s,t){function e(){this.constructor=s}for(var r in t)hasProp.call(t,r)&&(s[r]=t[r]);return e.prototype=t.prototype,s.prototype=new e,s.__super__=t.prototype,s},hasProp={}.hasOwnProperty;KlassView=function(s){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,s),e.prototype.className="KlassView",e.prototype.initialize=function(s){var t;return this.klass=s.klass,this.assessments=this.klass.assessments,this.results=[],t=new KlassAssessments,t.fetch({success:function(s){return function(t){var e;return s.assessments=t.where({klassId:s.klass.id}),e=new Results,e.fetch({success:function(t){var e,r,n,a;for(a=s.assessments,r=0,n=a.length;n>r;r++)e=a[r],e.results=t.where({assessmentId:e.id});return s.render()}})}}(this)})},e.prototype.render=function(){var s,e,r,n,a,i,l,o,u;for(u=this.klass.get("year")||"",e=this.klass.get("grade")||"",o=this.klass.get("stream")||"",r="<h1>"+t("class")+" "+o+"</h1> <table> <tr><td>School year</td><td>"+u+"</td></tr> <tr><td>"+t("grade")+"</td><tr>"+e+"</td></tr> </table> </div> <ul class='assessment_list'>",i=this.assessments,n=0,a=i.length;a>n;n++)s=i[n],r+="<li data-id='"+s.id+"'>"+s.get("name")+" - "+(null!=(l=s.get("results"))?l.length:void 0)+"</li>";return r+="</ul>",this.$el.html(r),this.trigger("rendered")},e}(Backbone.View);