var ButtonView,extend=function(t,e){function r(){this.constructor=t}for(var n in e)hasProp.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;ButtonView=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.className="ButtonView",e.prototype.events=Modernizr.touch?{"touchstart .button":"onClick"}:{"click .button":"onClick"},e.prototype.getValue=function(){return this.answer},e.prototype.setValue=function(t){var e;return null==t&&(t=[]),_(t).isArray()||(t=[t]),this.answer=_.union(t,this.options),e=this.answer.map(function(t){return"[data-value='"+t+"']"}).join(","),this.$el.find(".button").removeClass("selected"),this.$el.find(e).addClass("selected")},e.prototype.onChange=function(t){var e;return e=_.map($(t.target).find("option:selected"),function(t){return $(t).attr("data-answer")}),this.trigger("change",this.el)},e.prototype.hybridClick=function(t){return this.$el.find(".button").removeClass("selected"),t.checkedBefore?this.answer=t.value:(t.$target.addClass("selected"),this.answer="")},e.prototype.singleClick=function(t){return this.$el.find(".button").removeClass("selected"),t.$target.addClass("selected"),this.answer=t.value},e.prototype.multipleClick=function(t){return t.checkedBefore?t.$target.removeClass("selected"):t.$target.addClass("selected"),this.answer[t.value]=t.checkedBefore?"unchecked":"checked"},e.prototype.onClick=function(t){var e;return e={$target:$(t.target),value:$(t.target).attr("data-value"),checkedBefore:$(t.target).hasClass("selected")},this[this.mode+"Click"](e),this.trigger("change",this.el)},e.prototype.initialize=function(t){var e;return this.mode=t.mode,this.options=t.options,"single"===this.mode||"open"===this.mode?e="":"multiple"===this.mode&&(e={},this.options.forEach(function(t){return e[t.value]="unchecked"})),this.answer=e},e.prototype.render=function(){var t;return t="",this.options.forEach(function(e,r){var n,s,o,i;return o=0===r?"left":r===this.options.length-1?"right":"",i=e.value,n=e.label,s="multiple"===this.mode&&"checked"===this.answer[i]?"selected":"single"===this.mode&&this.answer===i?"selected":"",t+="<div class='button "+o+" "+s+"' data-value='"+i+"'>"+n+"</div>"},this),this.$el.html(""+t).addClass(this.className),this.trigger("rendered")},e}(Backbone.View);