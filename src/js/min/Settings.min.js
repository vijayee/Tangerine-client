var Settings,bind=function(t,n){return function(){return t.apply(n,arguments)}},extend=function(t,n){function r(){this.constructor=t}for(var e in n)hasProp.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},hasProp={}.hasOwnProperty;Settings=function(t){function n(){return this.update=bind(this.update,this),n.__super__.constructor.apply(this,arguments)}return extend(n,t),n.prototype.url="settings",n.prototype.initialize=function(){var t;return this.ipRange=_.uniq(function(){var n,r;for(r=[],t=n=100;200>=n;t=++n)r.push(t);return r}().concat(function(){var n,r;for(r=[],t=n=0;255>=n;t=++n)r.push(t);return r}())),this.config=Tangerine.config,this.on("change",function(t){return function(){return t.update()}}(this))},n.prototype.update=function(){var t,n,r,e,o,i,u,s,p;return r=this.getString("groupHost"),e=this.getString("groupName"),n=this.getString("groupDDoc"),this.upUser="uploader-"+e,this.upPass=this.get("upPass"),t=Tangerine.design_doc,i=Tangerine.conf.groupPrefix,this.groupDB=""+i+e,s=Tangerine.conf.subnet_base,o=Tangerine.conf.tablet_port,"server"!==Tangerine.settings.get("context")&&(u=r.split("://"),r=u[0]+"://"+this.upUser+":"+this.upPass+"@"+u[1]),this.location={group:{url:r+"/",db:r+"/"+i+e+"/"},subnet:{url:function(){var t,n;for(n=[],p=t=0;255>=t;p=++t)n.push("http://"+s+this.ipRange[p]+":"+o+"/");return n}.call(this),db:function(){var t,n;for(n=[],p=t=0;255>=t;p=++t)n.push("http://"+s+this.ipRange[p]+":"+o+"/"+Tangerine.db_name+"/");return n}.call(this)}},this.couch={view:"_design/"+t+"/_view/",index:"_design/"+t+"/index.html"},this.groupCouch={view:"_design/"+n+"/_view/",index:"_design/"+n+"/index.html"}},n.prototype.urlBulkDocs=function(){var t;return t="/"+Tangerine.db_name+"/_bulk_docs"},n.prototype.urlIndex=function(t,n){var r,e;return null==n&&(n=null),r=this.get("groupHost"),e="local"===t?":"+Tangerine.conf.tablet_port:"",n=null!=n?"#"+n:"",t="trunk"===t?"tangerine":Tangerine.conf.groupPrefix+t,""+r+e+"/"+t+"/"+this.couch.index+n},n.prototype.urlHost=function(t){return""+this.location[t].url},n.prototype.urlDB=function(t,n){var r,e;return null==n&&(n=null),r="local"===t?(""+this.location[t].db).slice(1,-1):(""+this.location[t].db).slice(0,-1),e=r.split("://"),n===!0?r=e[0]+"://"+this.upUser+":"+this.upPass+"@"+e[1]:null!=n&&(r=e[0]+"://"+Tangerine.user.name()+":"+n+"@"+e[1]),r},n.prototype.urlDDoc=function(){var t;return t=Tangerine.designDoc,this.urlDB("trunk")+"/_design/"+t},n.prototype.urlView=function(t,n){return"group"===t?""+this.location[t].db+this.groupCouch.view+n:""+this.location[t].db+this.couch.view+n},n.prototype.urlList=function(t,n){return"group"===t?""+this.location[t].db+this.groupCouch.list+n:""+this.location[t].db+this.couch.list+n},n.prototype.urlShow=function(t,n){return"group"===t?""+this.location[t].db+this.groupCouch.show+n:""+this.location[t].db+this.couch.show+n},n.prototype.urlSubnet=function(t){var n,r;return r=Tangerine.conf.tablet_port,n=Tangerine.conf.db_name,"http://"+t+":"+r+"/"+n},n.prototype.subnetIP=function(t){var n;return n=Tangerine.conf.subnet_base,""+n+this.ipRange[t]},n}(Backbone.Model);